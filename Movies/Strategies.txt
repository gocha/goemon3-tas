# がんばれゴエモン3 TAS/RTA 戦略

https://www.youtube.com/watch?v=dRUEvnOtCPw を参考に追記いろいろです。

## はぐれ町 → 忍者屋敷

* よろず屋で浮き輪を購入
    - Xボタンで入店時の会話をスキップする
    - カウンターには近づかずとも浮き輪を選択可能
* ほろほろ寺へ向かう
    - TAS: コーナーブーストを忘れないで（これ以降もOWでの基本動作）
    - 2人プレイでは、役人を倒してわずかに金銭を稼げる
    - TAS: ほろほろ寺入り口までに、どこかの扉に横向きで接触しておき、扉バグで走行距離を縮める
        - 1人プレイでも、めしやの左の民家で扉バグを発動させると、ちゃんと若干の短縮になる
    - ほろほろ寺の池は、階段を使って出入りするほうが飛び込むよりも若干速い
    - 基本動作: 下り階段は加速がつくのでジャンプしない、上り階段は減速するのでジャンプして進む
    - TAS: くろべえが出す壺から回収すべき小判の量は結論が出ていない

## 忍者屋敷

* 最初の部屋
    - TAS: 2人プレイでは、ひょうたんバグで画面上に抜けることで、最初のサスケもどきを回避する（と良いはず）
    - 貫通小判（チャージ攻撃）はしゃがんで撃つと消費が5両ではなく1両で済む。サスケもどきを倒す際は活用する
* 回転足場の部屋 https://www.youtube.com/watch?v=lzmpVJvMWrE&t=96s
    - TAS: 上に登る部屋。ジャンプ時のサブピクセルが最良になるように調整する（とくに最後の下りはしご）
    - TAS: 2人プレイでは、落下と復帰を使いこなすことで最初の足場付近を短縮できる（動画参照）
    - えびす丸のしゃがみ手裏剣からの二段ジャンプで、バリアに早くたどり着ける
    - TAS: 2人プレイでは、バリア接触時にひょうたんしていれば、貫通攻撃でないサブウェポンもバリアを抜けられる
    - ひょうたんバグ禁止だと、バリア前のサスケもどきを倒すことが必須となる
        - 基本事項: 敵に攻撃を当てたとき（撃破ではなくダメージ点滅時）に不定なラグが出ることがある。走るパスがまったく同じでもラグの量が変動することから、乱数が関わっていると推測
    - 銀のまねきねこ2つ（any% カテゴリではまねきねこの収集は不要）
* 大ガマガエル周辺
    - TAS: カカシのいる坂道では小判を稼げるが、ラグを考慮すると有効な施策かどうかは不明
    - TAS: 2人プレイでは、大ガマガエルの部屋に入る前にダッシュ状態を作っておき、できるだけ落下中に左にスクロールしておく
    - TAS: 着水するフレームを厳選すると水しぶきを出さずに水に入れる（負荷軽減にもなる）
    - TAS: 1人プレイでは、強制スクロール中にデスルーラ用の体力調整をすると無駄がない（まねきねこ集めないカテゴリ限定）
    - 大ガマガエルの次の部屋に銀のまねきねこ
* 3バリアの部屋 https://www.youtube.com/watch?v=lzmpVJvMWrE&t=167s
    - 1人プレイではしゃがみ貫通小判、2人プレイではサブウェポン後のひょうたんで、箱の向こうのスイッチを押す
    - TAS: 2人プレイでは、般若に小判を当ててこちらに近づかせて、そこからひょうたんバグを発動する
    - TAS: 2人プレイでは、左端の上りはしご付近で2段階の落下をすると速い（動画参照）
    - TAS: 2人プレイでは、ダメージ後の無敵時間にトゲでブーストする
* ボス部屋まで
    - 銀のまねきねこ1つ
    - 扉からすぐの箱は、しゃがみながら進むと抜けられる
    - その次の箱も、すき間を抜けられる（RTA だとシビア）
* ボス（大ガマガエル）
    - 前座のカエルで金銭を稼ぐ
    - TAS: 前座のカエルがアイテムを落とすときにラグが出がち、ただし、カエルとプレイヤーのY座標をずらすような要領で倒すとラグを削れる（1人プレイでの知見）
    - TAS: 前座のカエルのあとは一番左へ、乱数調整して、大ガマガエル登場時の破片で生じるラグを最小にする
    - 大ガマガエルは自然と最短行動になるはず。強いて言えば遠ざかりすぎないこと
    - TAS: 2人プレイでは、撃破前に2Pでひょうたんバグを発動させる
    - 撃破後の会話前に1Pをえびす丸にチェンジする（サスケへの切り替えのため）
    - TAS: 撃破後の会話時にサスケをなるべく画面端に遠ざけて、自爆時の破片で生じるラグを最小にする
        - 2人プレイでは、ひょうたんバグを使って完全に画面端に遠ざけることが可能
        - 1人プレイでは、えびす丸で絶妙に左にジャンプして手裏剣を撃つと、サスケをそこそこ右に配置できる

## パニックステージ（ビスまる・ぽっど）

* TAS: 敵が丸太を放つときの移動量を乱数調整により最大化し、レーザーの回数を減らす
* TAS: ラグ軽減のために、レーザーは全員ジャンプで回避する
    - ただ跳べば良いわけではなく、最適化条件が不明でシビア
    - 経験則としては、なるべく地面を離れつつ、全員の高さに微妙なばらつきを持たせること。乱数も関係するかも？
* ダッシュして避ける攻撃はジャンプし続けることでも回避できる（魅せプレイ以外の意味はない）

## おまつり村

* 花火師に会う前に2人ともサスケにする
* クナイを振り始めてから向きを変えることで、1回の攻撃で2本の花火への着火が可能
* 花火は、乱数で決まる花火師の動きと打ち上げの高さが時間に影響する
    - 花火師は円を描いて戻ってくるのが理想、取りうる経路は Lua 製のシミュレーターで確認可能
    - 乱数最適化が困難で、今のところ良い方法が用意されていない（ある程度の解で妥協するのが一旦現実的）
    - 花火のパターンはチャレンジ直前に決定されるので、それまでに移動やジャンプやLRボタン（サブウェポンは変わらないが乱数影響はある）で乱数調整する
* 花火爆弾を取らなくてもじいさんの別荘は攻略できるけど……？
    - 縦並びの爆弾ブロックが壊せないので詰むはず
    - からくりタワーに入れなくて暗号プレートを取得できない点でも詰み
* TAS: 爆弾入手後は花火師の家で扉バグを発動し、じいさんの別荘に扉を破壊せずに入る
    - 1人プレイでも効果的かどうかは未検証（TAS ならたぶんペイすると思う）

## じいさんの別荘

* any% カテゴリ
    - 1人プレイでは、えびす丸の手裏剣二段ジャンプで最短でゴールに向かう
        - 部屋に入ったあと、左にスクロールすることで、右側のエレベーターを消すこと (Rev B では不可）
    - TAS: 2人プレイでは、ひょうたんバグで天井から入ることができる（どちらが良いかは未検証）
* 100% カテゴリ
    - そのうち。小箱を使った二段ジャンプはえびす丸がいるからもう不要かな？

## じいさんの別荘 → にんにん村

* 1人プレイの場合、ツーリストに入った瞬間にサスケからヤエにチェンジすると無駄がない
* 上り階段はジャンプして、下り階段はジャンプしないこと
* にんにん村の番人との会話はXボタンでスキップ
* 2人プレイでは、道中の山賊で金銭が稼げる
* 人魚変化の修行
    - 光の玉の出現パターン（トゲの出る数）と速度（速いか遅いかの2通り）が乱数で決まる
    - 最初はトゲ2つ、以降は光の玉が出現するときに抽選があり、3/4 の確率でトゲ1つ、1/4 の確率でトゲ2つ
    - スクロールが一定まで進むと、乱数を無視して常に光の玉が出る区間に突入する
    - 2人プレイで2Pだけを修行に参加させると、透明な1Pの当たり判定で光の玉を取得できる（魅せプレイ）
    - 最後の光の玉の出現位置が大ガマガエルと被らない高さになっていると、最速で取りやすくて最善

## ほら貝の洞窟

* TAS: 人魚時の最適化がいまひとつ未検証
* TAS: 水面で人魚変化を解除するとき、移動エネルギーが慣性として残るので、意識的にブーストを活用する（以降も基本動作）
* 2個目の水抜きスイッチを省略できる。最後の水抜きスイッチの部屋で死に、通常形態のヤエで爆弾ブロックまで進んだあと人魚変化することで壁抜けできるため（最初の死亡ポイント）
* ほら貝取得後が2度目の死亡ポイント。天井と最寄りの爆弾ブロックが形成する逆L字型の地形にヤエのバズーカ二段ジャンプでめり込んで即死デスルーラ
    - TAS: ひょうたんバグが許される2人プレイでは、からくり温泉のゴールドキーも死亡ポイント候補。昔検証した気がしつつ情報探せておらず
    - 100% カテゴリでは他にも随所のまねきねこが死亡ポイント候補になるはず。未検証
* 強制スクロールのエレベーターは通らずに、来た道を二段ジャンプやひょうたんバグで引き返して地上に戻る

## ほら貝の洞窟 → からくり用心棒

* 同時押しバグありなら、人魚の上下左右同時押しダッシュで壁抜けしてはぐれ町へ
* 同時押しバグなしなら普通にはぐれ町へ
    - でんにんとの会話はXボタンで一部スキップ可能
    - はぐれ山の頂上のおばあさんがいる崖は、飛び降りないほうが速い？
* からくり用心棒は体力5、ヤエのバズーカ1回とゴエモンの貫通小判2回で撃破
    - バズーカより早く到達する攻撃がもしあるなら、2人プレイでは有効？
* からくり用心棒が回っている時間はランダム（要調査！）
* キャラチェンジ?

## 激震インパクト（富士街道） → ビスマルエレガント

* できるだけ敵を倒してラグを軽減する
* Xボタンの大ジャンプで足踏みの硬直回数を減らせる（エネルギー消費あり）
* リザルト画面はXボタンでスキップする（大ジャンプ後Xボタンを押したままにすれば良い）
    - 道中の報酬やダメージがこのあとの戦闘に反映されない副作用がある
* ビスマルエレガントは、ボム、レーザー＋小判、弱パンチ12回、強パンチ1回（salty さんの RTA より）
    - TAS だともっと小判とか挟めるのかな？
* ビスマルエレガントを倒したあとはXボタン押しっぱなしで会話スキップ

## はぐれタウン

ここからカテゴリ別、バージョン別にそこそこ戦略が違う。
